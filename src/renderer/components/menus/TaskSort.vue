<template>
  <v-menu rounded="0" right offset-x nudge-right="5" transition="none" max-height="fit-content" light :close-on-content-click="false" v-if="sortTypes">
    <template v-slot:activator="{ on }">
      <v-tooltip bottom transition="none">
        <template v-slot:activator="{ on: onTooltip }">
          <v-btn v-show="show" elevation="0" x-small fab icon v-on="{ ...on, ...onTooltip }">
            <svg style="pointer-events: none" width="20" version="1.1" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <path :d="sortTypes[sort].icon" fill="grey" />
            </svg>
          </v-btn>
        </template>
        Sort Tasks
      </v-tooltip>
    </template>
    <v-card class="mx-auto" max-width="400">
      <v-list-item>
        <v-list-item-content>
          <v-list-item-title>sort by name</v-list-item-title>
        </v-list-item-content>
      </v-list-item>
      <v-divider></v-divider>
      <v-list-item-group v-model="sort" color="indigo" mandatory @change="$emit('update', sort)">
        <v-list-item v-for="(item, i) in sortTypes" :key="i">
          <v-list-item-icon class="mx-1 pa-0">
            <svg style="pointer-events: none" width="24" version="1.1" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <path :d="item.icon" :fill="sort == i ? '#0187f3' : 'grey'" />
            </svg>
          </v-list-item-icon>
          <v-list-item-content>
            <v-list-item-title>{{ item.text }}</v-list-item-title>
          </v-list-item-content>
        </v-list-item>
      </v-list-item-group>
    </v-card>
  </v-menu>
</template>

<script>
export default {
  name: 'TaskSort',
  props: { show: Boolean },
  data() {
    return {
      sort: 2,
      sortTypes: [
        {
          text: 'a . z',
          icon: 'm 28.934088,9.042145 v 19.751426 h -3.8822 l 2.826839,4.895227 2.826841,4.894057 2.825664,-4.894057 2.826251,-4.895227 H 32.352988 V 9.042145 Z m -12.287462,0.32337 c -0.697089,0 -1.413711,0.07733 -2.149527,0.232238 -0.735816,0.147163 -1.494822,0.371713 -2.277111,0.673785 v 1.974907 c 0.650616,-0.356289 1.32828,-0.623224 2.033114,-0.801369 0.704834,-0.178145 1.428896,-0.267515 2.172457,-0.267515 1.16956,0 2.075787,0.270948 2.718658,0.813128 0.650616,0.534435 0.975988,1.29403 0.975988,2.277699 v 0.208721 h -2.997343 c -1.944103,0 -3.407692,0.37177 -4.391362,1.115331 -0.975924,0.743562 -1.463983,1.84742 -1.463983,3.311306 0,1.25476 0.39125,2.257796 1.173538,3.009103 0.790034,0.743561 1.850921,1.115332 3.183135,1.115332 1.053378,0 1.944139,-0.185592 2.67221,-0.557372 0.72807,-0.379526 1.335843,-0.964394 1.823805,-1.754428 v 1.974907 h 2.137768 v -7.423981 c 0,-1.98283 -0.464566,-3.462473 -1.394017,-4.438397 -0.929452,-0.975924 -2.335191,-1.463395 -4.21733,-1.463395 z m 1.34757,6.784885 h 2.126009 v 0.476236 c 0,1.394177 -0.35973,2.513502 -1.080055,3.357753 -0.712579,0.836507 -1.661779,1.254675 -2.84683,1.254675 -0.859742,0 -1.541419,-0.220536 -2.044872,-0.662026 -0.495708,-0.449235 -0.743163,-1.053582 -0.743163,-1.812634 0,-0.952688 0.332812,-1.626338 0.998919,-2.021355 0.666107,-0.395017 1.862761,-0.592649 3.589992,-0.592649 z m -5.835354,8.830346 v 1.707392 h 7.749115 l -8.03956,9.35303 v 1.951389 H 22.31324 v -1.707393 h -8.040148 l 8.040148,-9.353029 v -1.951389 z',
        },
        {
          text: 'z . a',
          icon: 'm 28.934088,9.042145 v 19.751426 h -3.8822 l 2.826839,4.895227 2.826841,4.894057 2.825664,-4.894057 2.826251,-4.895227 H 32.352988 V 9.042145 Z m -16.77514,0.063759 v 1.707389 h 7.748881 l -8.039303,9.352918 v 1.951302 h 10.44484 v -1.70739 H 14.27303 l 8.040336,-9.352917 V 9.1059041 Z m 4.487581,15.823323 c -0.697089,0 -1.413407,0.07764 -2.149223,0.232544 -0.735816,0.147163 -1.495091,0.371789 -2.27738,0.673861 v 1.974558 c 0.650616,-0.356291 1.328117,-0.62284 2.032951,-0.800987 0.704834,-0.178144 1.428916,-0.267684 2.172477,-0.267684 1.16956,0 2.075826,0.27069 2.718697,0.812872 0.650616,0.534434 0.976168,1.294227 0.976168,2.277895 v 0.208775 h -2.997233 c -1.944103,0 -3.407794,0.371615 -4.391463,1.115177 -0.975926,0.743561 -1.463994,1.84754 -1.463994,3.311424 0,1.25476 0.391284,2.257814 1.173572,3.009119 0.790034,0.743562 1.851054,1.115179 3.183268,1.115179 1.053378,0 1.944117,-0.185293 2.672188,-0.557072 0.72807,-0.379526 1.3357,-0.964382 1.823662,-1.754415 v 1.974556 h 2.137854 v -7.423837 c 0,-1.98283 -0.46478,-3.462563 -1.39423,-4.438488 -0.929453,-0.975923 -2.335175,-1.463477 -4.217314,-1.463477 z m 1.347721,6.785115 h 2.125969 v 0.476459 c 0,1.394177 -0.359713,2.513166 -1.080038,3.357417 -0.712579,0.836506 -1.661803,1.254704 -2.846854,1.254704 -0.859742,0 -1.541384,-0.220485 -2.044837,-0.661977 -0.495708,-0.449233 -0.743107,-1.053756 -0.743107,-1.812808 0,-0.952688 0.332798,-1.626048 0.998905,-2.021065 0.666109,-0.395018 1.862731,-0.59273 3.589962,-0.59273 z',
        },
        {
          text: 'pos',
          icon: 'M 7.3362249,33.858543 H 10.70092 V 13.357682 H 31.176812 V 9.9947703 c 3.267093,1.8883707 6.53388,3.7774247 9.801607,5.6646957 l -9.801607,5.664697 V 17.959467 H 15.302705 v 15.899076 h 3.362912 c -1.887914,3.267356 -3.774571,6.53553 -5.664696,9.801605 z',
        },
      ],
    };
  },
};
</script>
