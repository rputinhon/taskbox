<template>
  <v-card hover>
    <v-list-item class="mx-0 mt-1">
      <v-list-item-icon class="mx-3 my-0 ml-0 pt-3">
        <svg width="35" height="35" version="1.1" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
          <path
            :d="icon"
            fill="#0187f3"
          />
        </svg>
      </v-list-item-icon>
      <v-list-item-content>
        <v-list-item-title class="text-left" style="cursor: pointer">
          {{ pack.name }}
        </v-list-item-title>
        <v-list-item-subtitle class="text-left text-caption">
        {{pack.createdAt}} | {{ pack.size }} kb
        </v-list-item-subtitle>
        <v-menu rounded="0" right offset-x light nudge-right="15" :close-on-content-click="false">
          <template v-slot:activator="{ on: menu }">
            <v-btn icon v-on="{ ...menu }" fab x-small absolute right>
              <svg width="23" version="1.1" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                <path d="M 12 20.345703 A 3.6551981 3.6551981 0 0 0 8.3457031 24 A 3.6551981 3.6551981 0 0 0 12 27.654297 A 3.6551981 3.6551981 0 0 0 15.654297 24 A 3.6551981 3.6551981 0 0 0 12 20.345703 z M 24 20.345703 A 3.6551981 3.6551981 0 0 0 20.345703 24 A 3.6551981 3.6551981 0 0 0 24 27.654297 A 3.6551981 3.6551981 0 0 0 27.654297 24 A 3.6551981 3.6551981 0 0 0 24 20.345703 z M 36 20.345703 A 3.6551981 3.6551981 0 0 0 32.345703 24 A 3.6551981 3.6551981 0 0 0 36 27.654297 A 3.6551981 3.6551981 0 0 0 39.654297 24 A 3.6551981 3.6551981 0 0 0 36 20.345703 z " fill="grey" />
              </svg>
            </v-btn>
          </template>
          <v-card class="mx-auto" max-width="400">
            <v-list >
              <v-list-item link @click="deletePack(pack)">
                <v-list-item-title class="text-center" v-text="'Delete'"></v-list-item-title>
              </v-list-item>
            </v-list>
          </v-card>
        </v-menu>
      </v-list-item-content>
    </v-list-item>
  </v-card>
</template>

<script>
import { ipcRenderer } from 'electron';
export default {
  name: 'PackItem',
  props: { pack: {},folder:String },
  data() {
    return {
      icon: 'm 20.716197,2.2600586 c -3.526603,0.021492 -7.47311,1.1898149 -9.949534,3.1139128 L 4.5179127,10.228541 c -1.4089796,1.09473 -2.1057563,2.251628 -2.1289846,3.300291 l -0.029196,-0.03455 0.018978,23.449 h 0.015571 c 0.053192,1.344937 1.2313929,2.495295 3.4696357,3.074981 l 16.8562022,4.365512 c 4.047856,1.048349 9.964956,-0.173255 13.266854,-2.738723 l 6.248263,-4.854572 c 1.390963,-1.080733 2.035822,-2.218697 2.083241,-3.252117 l 0.01656,-3.78e-4 0.03599,-23.375513 -0.0059,0.0068 C 44.364426,8.7838478 43.179494,7.5939874 40.889212,7.0008307 L 24.033033,2.6352462 C 23.021068,2.3731579 21.892219,2.2528935 20.716684,2.2600586 Z m 0.193677,2.0506373 c 0.917058,-0.00555 1.797445,0.087523 2.586898,0.2919748 l 6.107632,1.5786112 -1.458415,1.1270235 -3.255523,-0.9640045 c -1.927148,-0.5706317 -3.664461,-0.4019308 -3.895432,0.3781075 -0.230972,0.7800391 1.134209,1.8673581 3.061357,2.437991 L 25.28074,9.5229347 24.106026,10.430491 20.44904,9.3477506 c -1.927147,-0.5706332 -3.664948,-0.4019321 -3.895919,0.3781068 -0.230972,0.7800386 1.134696,1.8673586 3.061844,2.4379916 l 1.625327,0.481272 -1.065709,0.82337 -3.889106,-1.151842 c -1.927148,-0.570632 -3.664948,-0.401931 -3.895919,0.378108 -0.23097,0.780039 1.134696,1.867359 3.061844,2.437991 l 1.858421,0.550373 -2.182514,1.686641 -7.1091033,-1.855014 C 6.4596586,15.111102 5.5589983,14.353118 5.353447,13.449026 5.5063506,12.737294 6.0382511,11.980081 6.9685558,11.257267 L 13.146746,6.7389541 c 1.931907,-1.501022 5.011956,-2.4114922 7.763128,-2.4282582 z m 9.747098,2.1430959 8.123229,2.2958962 c 1.552758,0.4021451 2.454807,1.1553783 2.664755,2.055018 -0.149766,0.714892 -0.650524,1.514258 -1.614133,2.202465 l -6.148992,4.391303 c -2.719132,1.801921 -7.191733,2.954605 -10.349538,2.13677 l -7.152414,-1.892485 2.146017,-1.658904 3.420486,1.012667 c 1.927149,0.570632 3.664462,0.402417 3.895433,-0.377621 0.230972,-0.780039 -1.134695,-1.867359 -3.061844,-2.437992 l -1.388827,-0.411198 1.065221,-0.823369 3.65358,1.081281 c 1.927147,0.570633 3.664464,0.401932 3.895435,-0.378107 0.230971,-0.780039 -1.134699,-1.867359 -3.061847,-2.437992 l -1.621434,-0.479812 1.174712,-0.9080426 4.054559,1.2005046 c 1.927149,0.570632 3.664462,0.401931 3.895433,-0.378108 0.230975,-0.7800386 -1.13421,-1.867359 -3.061355,-2.4379915 L 29.16206,7.6090392 Z m 10.97534,8.4847932 0.06472,17.92726 c -0.125581,0.868963 -0.49417,1.618392 -1.633598,2.503687 l -6.134392,4.457 C 31.353164,41.827907 26.60545,42.72618 23.450058,41.899067 L 7.8542135,37.81093 C 6.3195172,37.412436 5.4219408,36.672059 5.1987013,35.786085 5.1873168,35.459065 5.1754862,35.132055 5.1641523,34.80505 l 0.064719,-17.408036 c 0.00162,-0.416163 0.8050291,0.321198 1.28031,0.444288 l 16.2109367,4.107115 c 4.047852,1.048346 9.964957,-0.173261 13.266855,-2.738725 z m -12.651277,8.741244 c -1.067757,0 -1.927034,0.859275 -1.927034,1.927035 V 38.88686 c 0,1.067757 0.859277,1.928009 1.927034,1.928009 1.067762,0 1.928007,-0.860252 1.928007,-1.928009 V 25.606864 c 0,-1.06776 -0.860245,-1.927035 -1.928007,-1.927035 z m -10.850276,0.88955 c -0.568143,0 -1.070531,0.114355 -1.507564,0.342584 -0.437033,0.223373 -0.835327,0.572796 -1.194664,1.048677 v -1.194664 h -2.607337 v 11.260986 h 2.607337 v -4.282786 c 0.359337,0.475881 0.757631,0.827749 1.194664,1.055975 0.437033,0.223375 0.939421,0.335289 1.507564,0.335289 1.005175,0 1.831085,-0.398294 2.476922,-1.194666 0.645836,-0.801226 0.968383,-1.830927 0.968383,-3.08861 0,-1.257683 -0.322547,-2.28445 -0.968383,-3.080822 -0.645837,-0.801226 -1.471747,-1.201963 -2.476922,-1.201963 z m -0.968384,1.893944 c 0.558431,0 0.983116,0.203789 1.274471,0.611689 0.296211,0.407898 0.444289,1.000206 0.444289,1.777152 0,0.77695 -0.148078,1.369745 -0.444289,1.777642 -0.291355,0.407898 -0.71604,0.611688 -1.274471,0.611688 -0.55843,0 -0.988488,-0.20379 -1.289556,-0.611688 -0.29621,-0.412754 -0.444288,-1.005549 -0.444288,-1.777642 0,-0.772089 0.148078,-1.361954 0.444288,-1.769854 0.301068,-0.412753 0.731126,-0.618987 1.289556,-0.618987 z',
    };
  },
  created() {},
  watch: {},
  computed: {},
  methods: {
    deletePack(pack){
      ipcRenderer.invoke('app:deletePack',pack.path)
      this.$store.dispatch('taskbox/GET_PACK_LIST');
    }
  },
};
</script>
